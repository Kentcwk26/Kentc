FUNCTION login()
    chance=3
    WHILE chance>0
        PRINT("Enter username:"\n)
        GET username
        PRINT("Enter password:"\n)
        GET password
        OPENFILE (username.txt) IN READ MODE AS userInfo
            userCheck= read userInfo line-by-line()
            FOR record in userCheck:
                listRecord = SPLIT record INTO LIST SEPARATED BY ","
                IF username == listRecord LOCATION 0:
                    IF password == listRecord LOCATION 1:
                        print("\nLogin successful\n")
                        IF (username == "john" AND password == "1234u-78") OR (username == "Dave" AND password == "55467913"):
                            CALLFUNCTION adminMenu()
                            chance=0
                            break
                        ELSE:
                            CALLFUNCTION tenantMenu()
                            chance=0
                            BREAK LOOP
                        ENDIF
                    ENDIF
                ELSE:
                    chance-=1
                    PRINT("Error, incorrect username or password."\n ,chance,"chances remaining"\n)
                    BREAK LOOP
                ENDIF
            ENDFOR
        CLOSEFILE
    ENDWHILE
ENDFUNCTION

FUNCTION Update():
    PRINT("Enter[T] for tenant record; [A] for apartment record; [P] for transaction record)
    GET INPUT
    IF input==T OR input==t:
        
    ELSE IF input==A OR input==a:

    ELSE IF input==P OR input==p:

    
ENDFUNCTION

FUNCTION deletedRecord()
ENDFUNCTION

FUNCTION search()
ENDFUNCTION

FUNCTION transactionEntryForm()
ENDFUNCTION

FUNCTION logEntryForm()
ENDFUNCTION

FUNCTION display()
ENDFUNCTION

FUNCTION tenantEntryForm(tenantlist,n):
    newForm=[]
    for i in range(n)
        newForm=[]
        PRINT("Enter tenant name:"\n)
        GET name
        PRINT("Enter tenant gender: (m/f):\n")
        GET gender
        PRINT("Enter tenant phone number: (############):\n")
        GET pNum
        PRINT("Enter tenant nationality: (Malaysian/non-Malaysian):\n")
        GET nationality
        PRINT("Enter Rental start date: (YYYY,MM,DD):\n")
        GET startDate
        PRINT("Enter tenant income range(RM):\n")
        GET income
        PRINT("Enter tenant rental status(current/past):\n")
        GET rental 
        APPEND name TO newForm
        APPEND gender TO newForm
        APPEND pnum TO newForm
        APPEND nationality TO newForm
        APPEND date1 TO newForm
        APPEND income TO newForm
        APPEND rental TO newForm
    APPEND newForm TO tenantlist
    RETURN tenantlist
ENDFUNCTION

FUNCTION getname():
    WHILE TRUE
        PRINT("Enter tenant name: Firstname Familyname Lastname"\n)
        GET name
        namecheck=name
        SPLIT namecheck INTO LIST WITH ","
        FOR words IN namecheck:
            IF characters IN words LOCATION[0] IS UPPERCASE
                BREAK LOOP
            ELSE:
                nameFormat=0
                CALLFUNCTION validityMessage(nameFormat)
            ENDFOR
    RETURN name
ENDFUNCTION

FUNCTION getgender():
    PRINT("Enter tenant gender: (m/f):\n")
    GET gender
        gendercheck=gender
        IF gendercheck LENGTH==1:
            BREAK LOOP
        ELSE:
            code=1
            CALLFUNCTION validityMessage(length)
    RETURN gender
ENDFUNCTION

FUNCTION getpNum():
    PRINT("Enter tenant phone number: (############):\n")
    GET pnum
    pNumCheck=pNum
        FOR digit IN pnum:
            IF digit IS NOT INTEGER:
                CALLFUNCTION 

    RETURN pNum
ENDFUNCTION

FUNCTION getnationality():
    PRINT("Enter tenant nationality: (m: Malaysian/n: non-Malaysian):\n")
        GET nationality
    RETURN nationality
ENDFUNCTION

FUNCTION getStartDate():
    PRINT("Enter Rental start date: (YYYY,MM,DD):\n")
    GET startDate
    RETURN startDate
ENDFUNCTION

FUNCTION getincome():
    PRINT("Enter tenant income range(RM):\n")
    GET income
    RETURN income
ENDFUNCTION

FUNCTION getrental():
ENDFUNCTION

FUNCTION deleterecords(recordName, recordNum)
    IF recordName==tenant
        OPEN "tenant.txt" IN READ AS Thandler
            READ Thandler
            STRIP (",") FROM Thandler
            FOR record from list:
                FOR item in record:
                
FUNCTION searchTenant(details):
    OPEN "tenant.txt" IN READ AS TSearch
        TSearch.read()
        TSearch.strip(",")
        list = JOIN TSearch INTO string(",")
        for record in flight:
            if record.startswith(details):
                print("found record", record.rstrip(",").rstrip(""))

FUNCTION appendFile(list, listBool):
    IF listBool == TRUE:
        OPEN "tenant.txt" IN APPEND AS Thandler
            for record from list:
                for item in record:
                    WRITE item TO Thandler
                    WRITE "\n" TO Thandler
                WRITE "\n" TO Thandler
    ELSE:
        OPEN "apartment.txt" IN APPEND AS Ahandler 
            for record from list:
                for item in record:
                    WRITE item TO Ahandler
                    WRITE "\n" TO Ahandler
                WRITE "\n" TO Ahandler
        CLOSE apartment.txt

FUNCTION read_file(listBool):
    IF listBool == TRUE:
        OPEN "tenant.txt" IN READ AS Thandler:
            FOR record FROM Ahandler:
                PRINT(record.rstrip().rstrip(","))

    ELSE:
        OPEN "apartment.txt" IN READ AS Ahandler:
            FOR record FROM Ahandler:
                PRINT(record.rstrip().rstrip(","))
    
FUNCTION apartmentupdate():
    PRINT("Apartment Update")

FUNCTION searchbox():
    PRINT("\nWelcome to search box!")
    PRINT("\n1. Search room specific details.\n2. Search specific tenant details\n3. Search both tenant and room details\n4. Exit\n")
    PRINT("Please type the keyword search based on the listing above: ")
    GET option

    IF option==1 THEN:
        print()
        PRINT("Room(r), Pricing(p)\nPlease type the keyword search based on the listing above: ")
        GET opt

        IF opt=='r' THEN:
        PRINT("\nSR1,SR2,SR3,SR4,DR1,DR2,DR3,DR4,CPS,MPS,MPT,MP1,MP2,ESS3,ESS2,EST2")
        num=1
        CALLFUNCTION searchinformation(num)

        IF opt=='p' THEN:
        PRINT("\nRM350,RM450,RM550,RM650,RM690,RM700,RM750,RM800,RM840,RM890,RM900,RM940,RM950,RM1040,RM1050")
        num=3
        CALLFUNCTION searchinformation(num)

        ELSE:
        PRINT("Invalid input or no records")

    IF option==2 THEN:
    print()
    PRINT("\nName(N),Apartment Details(A)\nPlease type the keyword search based on the listing above: ")
    GET options

        IF options=='N' THEN:
        

        IF opt=='A' THEN:
        

        ELSE:
        PRINT("Invalid input or no records")

        

FUNCTION validityMessage(code)
    IF code==0:
        PRINT("Format error")
    IF code==1:
        PRINT("Incorrect data type present")

FUNCTION adminMenu():
    WHILE TRUE
        PRINT("\nTenant Management System")
        PRINT("\n1.Review all apartment information\n2. Register new tenant\n3. Search box\n4. Exit")
        PRINT("\nPlease select which operation that you want to do: ")

        IF opt == 1:
            CALLFUNCTION apartment()

        ELSEIF opt == 2:
            PRINT("Number of new tenants: ")
            GET n
            tenantlist=[]
            tenantlist = CALLFUNCTION tenantEntryForm(tenantlist,n)
            bool=TRUE
            appendFile(tenantlist,list_type)
            
        ELSEIF opt == 3:
            CALL FUNCTION search()

        ELSEIF opt == 4:
            PRINT("\nThank you for using, have a nice day~")
            BREAK LOOP
        ELSE:
            PRINT("\nError! Please try again")
ENDFUNCTION

BEGIN
IMPORT datetime AS dt
CALLFUNCTION login()
END